{"version":3,"sources":["assets/mrrobot.png","redux/dialogsReducer.ts","api/api.js","assets/preloader.gif","assets/eye.png","components/Login/Login.module.css","components/Footer/Footer.module.css","components/Sidebar/Sidebar.module.css","components/Nav/Nav.module.css","components/Nav/Nav.jsx","components/Photos/Photos.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/usersReducer.ts","components/Users/Pagination.tsx","components/Users/Users.tsx","redux/userSelectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.jsx","redux/authReducer.ts","components/Header/HeaderComponent.jsx","components/Login/Login.jsx","redux/appReducer.ts","components/Footer/Footer.jsx","components/Sidebar/Sideber.jsx","App.js","serviceWorker.js","redux/reduxStore.ts","index.js","components/Users/Users.module.css","components/common/FormsControls/FormsControls.module.css","components/Users/Pagination.module.css","components/common/FormsControls/FormsControls.jsx","components/common/Preloader/Preloader.jsx","validators/validators.js","components/Header/Header.module.css","redux/profileReducer.ts"],"names":["module","exports","sendMessageActionCreator","newMessageText","type","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","messageText","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","Nav","className","styles","nav","item","activeClassName","activeLink","to","Photos","Music","Settings","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowing","usersReducer","map","u","followed","filter","Pagination","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","portionButton","onClick","p","cn","selectedPage","pageNumber","key","Users","props","usersPage","userInList","userName","userPic","alt","src","photos","small","userPhoto","unfollowButton","disabled","some","followButton","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","pageTitle","Preloader","isAuth","React","Component","compose","connect","dispatch","getState","a","resultCode","page","items","totalCount","Header","header","logo","logoutButton","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderComponent","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","loginButton","messaage","length","stopSubmit","_error","loginStyles","loginPage","initialized","appReducer","Footer","footer","Sidebar","sidebar","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","fallback","app","Boolean","window","location","hostname","match","require","createStore","combineReducers","applyMiddleware","store","profilePage","profileReducer","dialogsPage","formReducer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMiddleware","_store_","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","Textarea","input","meta","touched","hasError","formControl","preloader","value","maxLengthCreator","maxLength","ADD_POST","posts","likesCount","getUserProfile","setUserProfile","setStatus","alert","file","savePhotoSuccess","toLowerCase","contacts","Promise","reject","addNewPostActionCreator","newPostText"],"mappings":"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","file":"static/js/main.74ed1fb1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mrrobot.97f0a69e.png\";","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\n\ntype SendMessageActionCreatorType = {\n  type: typeof ADD_MESSAGE\n  newMessageText: string\n}\n\nexport const sendMessageActionCreator = (newMessageText: string):SendMessageActionCreatorType => ({ type: ADD_MESSAGE, newMessageText })\n\ntype DialogType = { \n  id: number \n  name: string \n}\n\ntype MessageType = { \n  id: number \n  message: string \n}\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: 'Vavan' },\n    { id: 2, name: 'Iren' },\n    { id: 3, name: 'Bieven' },\n    { id: 4, name: 'Kama' },\n    { id: 5, name: 'Maga' },\n    { id: 6, name: 'Konek' }\n  ] as Array<DialogType>,\n  messages: [\n    { id: 1, message: 'Hello' },\n    { id: 2, message: 'What do we get for 10 dollars?' },\n    { id: 3, message: 'Everything' },\n    { id: 4, message: 'Ok alright' }\n  ] as Array<MessageType>\n}\n\nexport type InitialStateType = typeof initialState\n\nconst dialogsReducer = (state = initialState, action: any) => {\n  switch (action.type) {\n    case ADD_MESSAGE:\n      let messageText = action.newMessageText\n      return {\n        ...state,\n        messages: [...state.messages, { id: 5, message: messageText }]\n      }\n    default:\n      return state\n  }\n}\n\nexport default dialogsReducer","import * as axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: { 'api-key': '8b8490ba-4ac0-44fd-a386-a1e6ec25d08c' }\n})\n\nexport const usersAPI = {\n    getUsers(currentPage, pageSize) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    },\n    follow(userId) {\n        return instance.post(`follow/${userId}`)\n    },\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`)\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/${userId}`)\n    },\n    getStatus(userId) {\n        return instance.get(`profile/status/${userId}`)\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status })\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData()\n        formData.append('image', photoFile)\n        return instance.put('profile/photo', formData)\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`, profile)\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    }\n}","module.exports = __webpack_public_path__ + \"static/media/preloader.7f8e1b53.gif\";","module.exports = __webpack_public_path__ + \"static/media/eye.16969707.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"Login_loginPage__-UEgp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1w0lV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2WupE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3gICw\",\"item\":\"Nav_item__96rLj\",\"activeLink\":\"Nav_activeLink__GsTVR\"};","import React from 'react';\nimport styles from './Nav.module.css';\nimport { NavLink } from 'react-router-dom';\n\nfunction Nav() {\n  return (\n    <nav className={styles.nav}>\n      <ul>\n        <li className={styles.item} >\n          <NavLink activeClassName={styles.activeLink} to='/profile'>Profile</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/dialogs'>Messages</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/users'>Users</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/photos'>Photos</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/music'>Music</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/settings'>Settings</NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Nav;","import React from 'react';\n\nfunction Photos() {\n  return (\n    <div>\n      Photos\n    </div>\n  );\n}\n\nexport default Photos;\n","import React from 'react';\n\nfunction Music() {\n  return (\n    <div>\n      Music\n    </div>\n  );\n}\n\nexport default Music;\n","import React from 'react';\n\nfunction Settings() {\n  return (\n    <div>\n      Settings\n    </div>\n  );\n}\n\nexport default Settings;\n","import { UsersType } from './../types/types';\nimport { usersAPI } from '../api/api.js'\nimport {AppStateType} from \"./reduxStore\";\nimport {Dispatch} from \"redux\";\n\nconst FOLLOW = 'users/FOLLOW';\nconst UNFOLLOW = 'users/UNFOLLOW';\nconst SET_USERS = 'users/SET_USERS';\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING';\n\nlet initialState = {\n  users: [] as Array<UsersType>,\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: [] as Array<number> // array of users ids\n}\n\ntype InitialStateType = typeof initialState\n\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: state.users.map(u => {\n          if (u.id === action.userId) {\n            return { ...u, followed: true }\n          }\n          return u;\n        }\n        )\n      }\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: state.users.map(u => {\n          if (u.id === action.userId) {\n            return { ...u, followed: false }\n          }\n          return u;\n        }\n        )\n      }\n    case SET_USERS:\n      return { ...state, users: action.users }\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage }\n    case SET_TOTAL_USERS_COUNT:\n      return { ...state, totalUsersCount: action.totalUsersCount }\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching }\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter(id => id !== action.userId)\n      }\n    default:\n      return state\n  }\n}\n\ntype ActionsTypes = FollowSuccesActionType | UnollowSuccesActionType | SetUsersActionType |\n    SetCurrentPageActionType | SetTotalUsersCountActionType | ToggleIsFetchingActionType |\n    ToggleIsFollofingActionType\n\ntype FollowSuccesActionType = {\n  type: typeof FOLLOW\n  userId: number\n}\n\ntype UnollowSuccesActionType = {\n  type: typeof UNFOLLOW\n  userId: number\n}\n\ntype SetUsersActionType = {\n  type: typeof SET_USERS\n  users: Array<UsersType>\n}\n\ntype SetCurrentPageActionType = {\n  type: typeof SET_CURRENT_PAGE\n  currentPage: number\n}\n\ntype SetTotalUsersCountActionType = {\n  type: typeof SET_TOTAL_USERS_COUNT\n  totalUsersCount: number\n}\n\ntype ToggleIsFetchingActionType = {\n  type: typeof TOGGLE_IS_FETCHING\n  isFetching: boolean\n}\n\ntype ToggleIsFollofingActionType = {\n  type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\n  isFetching: boolean\n  userId: number\n}\n\nexport const followSuccess = (userId: number): FollowSuccesActionType => ({ type: FOLLOW, userId })\nexport const unfollowSuccess = (userId: number): UnollowSuccesActionType => ({ type: UNFOLLOW, userId })\nexport const setUsers = (users: Array<UsersType>): SetUsersActionType => ({ type: SET_USERS, users })\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({ type: SET_CURRENT_PAGE, currentPage })\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountActionType => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount })\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({ type: TOGGLE_IS_FETCHING, isFetching })\nexport const toggleIsFollowing = (isFetching: boolean, userId: number): ToggleIsFollofingActionType => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\n\ntype DispatchType = Dispatch<ActionsTypes>\ntype GetStateType = () => AppStateType\n\nexport const requestUsers = (page: number, pageSize: number) => {\n  return async (dispatch: DispatchType, getState: GetStateType ) => {\n    dispatch(toggleIsFetching(true))\n    dispatch(setCurrentPage(page))\n\n    const data = await usersAPI.getUsers(page, pageSize)\n    dispatch(toggleIsFetching(false))\n    dispatch(setUsers(data.items))\n    dispatch(setTotalUsersCount(data.totalCount))\n  }\n}\n\nexport const follow = (userId: number) => {\n  return async (dispatch: DispatchType, getState: GetStateType) => {\n    dispatch(toggleIsFollowing(true, userId))\n    const response = await usersAPI.follow(userId)\n    if (response.data.resultCode === 0) {\n      dispatch(followSuccess(userId))\n    }\n    dispatch(toggleIsFollowing(false, userId))\n  }\n}\n\nexport const unfollow = (userId: number) => {\n  return async (dispatch: DispatchType, getState: GetStateType) => {\n    dispatch(toggleIsFollowing(true, userId))\n    const response = await usersAPI.unfollow(userId)\n    if (response.data.resultCode === 0) {\n      dispatch(unfollowSuccess(userId))\n    }\n    dispatch(toggleIsFollowing(false, userId))\n  }\n}\n\nexport default usersReducer","import React, { useState } from 'react';\nimport styles from './Pagination.module.css'\nimport cn from 'classnames'\n\ntype PropsType = {\n    pageSize: number\n    totalItemsCount: number\n    currentPage: number\n    onPageChange: (pageNumber: number) => void\n    portionSize?: number\n}\n\nconst Pagination: React.FC<PropsType> = ({ pageSize, totalItemsCount,\n    currentPage, onPageChange, portionSize = 10 }) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n    let pages: Array<number> = [] \n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * (portionSize + 1);\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return <div className={styles.paginator}>\n        {portionNumber > 1 &&\n            <button className={styles.portionButton} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\n\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map((p) => {\n                return <span className={cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber)}\n                    key={p}\n                    onClick={() => {\n                        onPageChange(p);\n                    }}>{p}</span>\n            })}\n        {portionCount > portionNumber &&\n            <button className={styles.portionButton} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\n\n\n    </div>\n}\n\nexport default Pagination;","import React from 'react';\nimport styles from './Users.module.css'\nimport userPhoto from '../../assets/mrrobot.png'\nimport { NavLink } from 'react-router-dom';\nimport Pagination from './Pagination';\nimport { UsersType } from '../../types/types';\n\ntype PropsType = {\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    onPageChange: (pageNumber: number) => void\n    users: Array<UsersType>\n    followingInProgress: Array<number>\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n}\n\nconst Users: React.FC<PropsType> = ({ currentPage, onPageChange, totalUsersCount, pageSize, users, ...props }) => {\n\n    return (<div className={styles.usersPage}>\n        <Pagination\n            currentPage={currentPage}\n            onPageChange={onPageChange}\n            totalItemsCount={totalUsersCount}\n            pageSize={pageSize}\n        />\n        {users.map(u =>\n            <div className={styles.userInList} key={u.id}>\n                <span>\n                    <div className={styles.userName}>{u.name}</div>\n                    <span>\n                        <div>Country: </div>\n                        <div>City: </div>\n                        {/* <div>u.location.country</div>\n                        <div>u.location.city</div>  */}\n                    </span>\n                    <div >\n                        <NavLink to={`/profile/${u.id}`}>\n                            <img className={styles.userPic} alt={'small userpic'} src={u.photos.small != null ? u.photos.small : userPhoto} />\n                        </NavLink>\n                    </div>\n                    <div>\n                        {// @ts-ignore\n                            u.followed\n                            ? <button className={styles.unfollowButton} disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\n                                props.unfollow(u.id)\n                            }}>unfollow</button>\n\n                            : <button className={styles.followButton} disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\n                                props.follow(u.id)\n                            }}>follow <b>{u.name}</b></button>\n                        }\n                    </div>\n                </span>\n                <span>\n                    <span>\n                        <div>{u.status}</div>\n                    </span>\n                </span>\n            </div>)}\n    </div>\n    )\n\n}\n\nexport default Users;","import {createSelector} from 'reselect'\nimport {AppStateType} from \"./reduxStore\";\n\nconst getUsersSelector = (state: AppStateType) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector(getUsersSelector, \n    (users) => {\n   // @ts-ignore\n        return users.filter(u => true)\n})\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress\n}\n\nexport const getFollow = (state: AppStateType) => {\n    return state.usersPage.follow\n}\n\nexport const getUnfollow = (state: AppStateType) => {\n    return state.usersPage.unfollow\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { follow, unfollow, requestUsers, setCurrentPage } from '../../redux/usersReducer';\nimport Users from './Users';\nimport Preloader from '../common/Preloader/Preloader'\n\nimport { compose } from 'redux';\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/userSelectors';\nimport { UsersType } from '../../types/types';\nimport { AppStateType } from '../../redux/reduxStore';\n\ntype MapStatePropsType = {\n    currentPage: number\n    pageSize: number\n    isFetching: boolean\n    users: Array<UsersType>\n    totalUsersCount: number\n    followingInProgress: Array<number>\n}\n\ntype MapDispatchPropsType = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    getUsers: (page: number, pageSize: number) => void\n    setCurrentPage: (currentPage: number) => void\n}\n\ntype OwnPropsType = {\n    pageTitle: string\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\n\nclass UsersContainer extends React.Component<PropsType> {\n\n    componentDidMount() {\n        const { currentPage, pageSize } = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChange = (pageNumber: number) => {\n        const { pageSize } = this.props\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n        return <>\n            <h2>{this.props.pageTitle}</h2>\n            {this.props.isFetching ? <Preloader /> : null}\n            <Users\n                currentPage={this.props.currentPage}\n                onPageChange={this.onPageChange}\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                followingInProgress={this.props.followingInProgress}\n                // @ts-ignore\n                isAuth={this.props.isAuth}\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose( //   <TStateProps = {}, TDispatchProps = {}, TOwnProps = {}, State = DefaultRootState>\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>(mapStateToProps,\n        { follow, unfollow, setCurrentPage, getUsers: requestUsers  })\n)(UsersContainer)\n\n// let mapDispatchToProps = (dispatch) => {\n\n//     return {\n//         follow: (userId) => {\n//             dispatch(followAC(userId));\n//         },\n//         unfollow: (userId) => {\n//             dispatch(unfollowAC(userId));\n//         },\n//         setUsers: (users) => {\n//             dispatch(setUsersAC(users));\n//         },\n//         setCurrentPage: (currentPage) => {\n//             dispatch(setCurrentPageAC(currentPage))\n//         },\n//         setTotalUsersCount: (totalCount) => {\n//             dispatch(setTotalUsersCountAC(totalCount))\n//         },\n//         toggleIsFetching: (isFetching) => {\n//             dispatch(toggleIsFetchingAC(isFetching))\n//         }\n//     }\n","import React from 'react';\nimport styles from './Header.module.css';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport logo from '../../assets/eye.png'\n\nfunction Header(props) {\n    return (\n        <header className={styles.header}>\n            <img src={logo} alt={'logo'} />\n            <div className={styles.login}>\n                {props.isAuth\n                    ? <div> {props.login} <button className={styles.logoutButton}\n                        onClick={props.logout}>Logout</button></div>\n                    : <NavLink to={'/login'}>\n                        L O G I N\n                        <Redirect to={'/login'} />\n                    </NavLink>}\n            </div>\n\n        </header>\n    );\n}\n\nexport default Header;","import { authAPI, securityAPI } from '../api/api'\nimport { stopSubmit } from 'redux-form';\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n  id: null as number | null,\n  login: null as string | null,\n  email: null as string | null,\n  isAuth: false,\n  captchaUrl: null as string | null // if null captcha is not required\n}\n\ntype InitialStateType = typeof initialState\n\nconst authReducer = (state = initialState, action: any): InitialStateType => {\n\n  switch (action.type) {\n    case SET_USER_DATA:\n    case GET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state\n  }\n}\n\ntype SetAuthUserDataActionPayloadType = {\n  id: number | null\n  login: string | null\n  email: string | null\n  isAuth: boolean\n}\ntype SetAuthUserDataActionType = {\n  type: typeof SET_USER_DATA\n  payload: SetAuthUserDataActionPayloadType\n}\n\nexport const setAuthUserData = (id: number | null, login: string | null, email: string | null, isAuth: boolean): SetAuthUserDataActionType => ({\n  type: SET_USER_DATA, payload: { id, login, email, isAuth }\n})\n\ntype GetCaptchaUrlSuccessActionType = {\n  type: typeof GET_CAPTCHA_URL_SUCCESS\n  payload: { captchaUrl: string }\n}\n\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessActionType => ({\n  type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl }\n})\n\n\nexport const getAuthUserData = () => async (dispatch: any) => {\n  const response = await authAPI.me()\n  const { id, login, email } = response.data.data\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(id, login, email, true))\n  }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\n  const response = await authAPI.login(email, password, rememberMe, captcha)\n  if (response.data.resultCode === 0) {\n    // success get auth data\n    dispatch(getAuthUserData())\n  } else {\n    if (response.data.resultCode === 10) {\n      dispatch(getCaptchaUrl())\n    }\n    let messaage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error!'\n    dispatch(stopSubmit('login', { _error: messaage }))\n  }\n}\n\nexport const logout = () => async (dispatch: any) => {\n  const response = await authAPI.logout()\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false))\n  }\n}\n\nexport const getCaptchaUrl = () => async (dispatch: any) => {\n  const response = await securityAPI.getCaptchaUrl()\n  const captchaUrl = response.data.url\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\n}\n\nexport default authReducer","import React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { logout } from '../../redux/authReducer';\n\nclass HeaderComponent extends React.Component {\n    render() {\n        return (\n            <Header {...this.props} />\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n})\n\nexport default connect(mapStateToProps, { logout })(HeaderComponent);","import React from 'react';\nimport { Field, reduxForm } from 'redux-form'\nimport { Input } from '../common/FormsControls/FormsControls';\nimport { required } from '../../validators/validators';\nimport { connect } from 'react-redux';\nimport { login } from '../../redux/authReducer';\nimport { Redirect } from 'react-router-dom';\nimport styles from '../common/FormsControls/FormsControls.module.css'\nimport loginStyles from './Login.module.css'\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <Field placeholder={'Email'} name={'email'} component={Input} validate={[required]} />\n            </div>\n            <div>\n                <Field placeholder={'Password'} name={'password'} component={Input} validate={[required]} type={'password'} />\n            </div>\n            <div>\n            Remember me <Field type={'checkbox'} name={'rememberMe'} component={Input} /> \n            </div>\n            {captchaUrl && <img src={captchaUrl} alt={'captcha'} />}\n\n            {captchaUrl && <Field placeholder={'Enter the symbols from image'} name={'captcha'}\n                component={Input} validate={[required]} />}\n            {error && <div className={styles.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button className={styles.loginButton}>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    }\n\n    return <div className={loginStyles.loginPage}>\n        <h1>Login page</h1>\n        <p>Please enter your login and password</p>\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl\n})\n\nexport default connect(mapStateToProps, { login })(Login)","import { getAuthUserData } from \"./authReducer\";\n\n\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS';\n\ntype InitialStateType = {\n  initialized: boolean\n}\n\nlet initialState: InitialStateType = {\n  initialized: false\n}\n\nconst appReducer = (state = initialState, action: any): InitialStateType => {\n\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializedSuccess = (): InitializedSuccessActionType  => ({ type: INITIALIZED_SUCCESS })\n\ntype InitializedSuccessActionType = {\n  type: typeof INITIALIZED_SUCCESS\n}\n\nexport const initializeApp = () => (dispatch: any) => {\n  let promise = dispatch(getAuthUserData())\n  promise.then(() => {\n    dispatch(initializedSuccess())\n  })\n}\n\nexport default appReducer\n","import React from 'react';\nimport styles from './Footer.module.css';\n\nconst Footer = (props) => {\n    return (\n        <div className={styles.footer}>\n            :\\\n        </div>\n    );\n}\n\nexport default Footer;","import React from 'react';\nimport styles from './Sidebar.module.css';\n\n\nconst Sidebar = () => {\n  return (\n   <div className={styles.sidebar}></div>\n  )\n}\n\nexport default Sidebar;","import React, { Suspense } from 'react';\nimport './App.css';\nimport Nav from './components/Nav/Nav';\nimport Photos from './components/Photos/Photos';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderComponent from './components/Header/HeaderComponent';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/appReducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport Footer from './components/Footer/Footer';\nimport Sidebar from './components/Sidebar/Sideber';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  componentWillUnmount() {\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    // HashRouter used for gh pages. Please use BrouserRouter\n    return (\n      <HashRouter>\n        <div className='app-wrapper'>\n          <HeaderComponent />\n          <Nav />\n          <div className='app-wrapper-content'>\n            <Switch>\n              <Route exact path='/'\n                render={() => <Suspense fallback={<div>Загрузка...</div>}>\n                  <Redirect to={'/profile'} />\n                </Suspense>}\n              />\n              <Route\n                path='/dialogs'\n                render={() => <Suspense fallback={<div>Загрузка...</div>}>\n                  <DialogsContainer />\n                </Suspense>}\n              />\n              <Route path='/profile/:userId?'\n                render={() => <Suspense fallback={<div>Загрузка...</div>}>\n                  <ProfileContainer />\n                </Suspense>}\n              />\n              <Route path='/users'\n                render={() => <UsersContainer pageTitle={'All users'}\n                />}\n              />\n              <Route path='/login'\n                render={() => <Login\n                />}\n              />\n              <Route path='/photos' component={Photos} />\n              <Route path='/music' component={Music} />\n              <Route path='/settings' component={Settings} />\n              <Route path='*'\n                render={() => <div>404 NOT FOUND</div>}\n              />\n            </Switch>\n          </div>\n          <Sidebar/>\n          <Footer/>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, { initializeApp })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import profileReducer from './profileReducer'\nimport dialogsReducer from './dialogsReducer'\nimport usersReducer from './usersReducer'\nimport authReducer from './authReducer'\nimport appReducer from './appReducer'\nimport { reducer as formReducer } from 'redux-form'\n\nimport thunkMiddleware from 'redux-thunk'\n\nconst { createStore, combineReducers, applyMiddleware, compose } = require(\"redux\")\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\n\ntype RootReducerType = typeof rootReducer // (global state: AppStateType) => AppStateType\nexport type AppStateType = ReturnType<RootReducerType>\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\n// @ts-ignore\nwindow._store_ = store\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/reduxStore';\nimport { Provider } from 'react-redux';\n\n\n  ReactDOM.render(\n\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__3xdAn\",\"userPic\":\"Users_userPic__1_BqH\",\"selectedPage\":\"Users_selectedPage__J63sh\",\"userInList\":\"Users_userInList__OVJXd\",\"userName\":\"Users_userName__1mt5V\",\"unfollowButton\":\"Users_unfollowButton__3QsTy\",\"followButton\":\"Users_followButton__2xwHU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\",\"saveButton\":\"FormsControls_saveButton__3VGCw\",\"loginButton\":\"FormsControls_loginButton__3wK0r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__1TXwA\",\"pageNumber\":\"Pagination_pageNumber__1r7yr\",\"selectedPage\":\"Pagination_selectedPage__zdDHb\",\"portionButton\":\"Pagination_portionButton__12LKm\"};","import React from 'react'\nimport styles from './FormsControls.module.css'\n\nexport const Textarea = ({ input, meta: { touched, error }, ...props }) => {\n    const hasError = touched && error\n\n    return (\n        <div className={(hasError ? styles.formControl : '')}>\n            <textarea {...input} {...props} />\n            <div>\n                {hasError && <span>{error}</span>}\n            </div>\n        </div>\n    )\n}\n\nexport const Input = ({ input, meta: { touched, error }, ...props }) => {\n    const hasError = touched && error\n\n    return (\n        <div className={(hasError ? styles.formControl : '')}>\n            <input {...input} {...props} />\n            <div>\n                {hasError && <span>{error}</span>}\n            </div>\n        </div>\n    )\n}","import React from 'react'\nimport preloader from '../../../assets/preloader.gif';\n\nlet Preloader = () => {\n    return (\n        <img src={preloader} alt={'preloader'} />\n    )\n\n    \n}\n\nexport default Preloader","export const required = (value) => {\n    if (value) return undefined\n    return 'Required field'\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `max length is ${maxLength} symbols`\n    return undefined\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"login\":\"Header_login__3V3Qa\",\"logoutButton\":\"Header_logoutButton__21mWM\"};","import { PhotosType, ContactsType } from './../types/types';\nimport { profileAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\nconst DELETE_POST = 'profile/DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\n\ntype PostsType = {\n  id: number\n  post: string\n  likesCount: number\n}\n\ntype ProfileType = {\n  userId: number\n  lookingForAJob: boolean\n  lookingForAJobDescription: string\n  fullName: string\n  contacts: ContactsType\n  photos: PhotosType\n}\n\nlet initialState = {\n  posts: [\n    { id: 1, post: 'Hey you there!', likesCount: 4 },\n    { id: 2, post: 'Bro.. nice 2 meet u', likesCount: 46 },\n    { id: 3, post: ':O:O:O:O', likesCount: 12 }\n  ] as Array<PostsType>,\n  profile: null as ProfileType | null,\n  status: ''\n}\n\nexport type InitialStateType = typeof initialState\n\nconst profileReducer = (state = initialState, action: any): InitialStateType => {\n\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [...state.posts, { id: 4, post: action.newPostText, likesCount: 0 }]\n      }\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      }\n    case SET_USER_PROFILE:\n      return {\n        ...state, profile: action.profile\n      }\n    case DELETE_POST:\n      return {\n        ...state, posts: state.posts.filter(p => p.id !== action.id)\n      }\n    case SAVE_PHOTO_SUCCESS:\n      return {\n        ...state, profile: { ...state.profile, photos: action.photos } as ProfileType\n      }\n    default:\n      return state\n  }\n}\n\nexport const getUserProfile = (userId: number) => {\n  return async (dispatch: any) => {\n    const response = await profileAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n  }\n}\n\nexport const getStatus = (userId: number) => {\n  return async (dispatch: any) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n  }\n}\n\nexport const updateStatus = (status: string) => {\n  return async (dispatch: any) => {\n    try {\n      const response = await profileAPI.updateStatus(status)\n      if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n      }\n    } catch (error) {\n      debugger\n      alert(error) //here will be error handler\n    }\n  }\n}\n\nexport const savePhoto = (file: any) => async (dispatch: any) => {\n  const response = await profileAPI.savePhoto(file);\n  if (response.data.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n}\n\nexport const saveProfile = (profile: ProfileType) => async (dispatch: any, getState: any) => {\n  const userId = getState().auth.id\n  let response = await profileAPI.saveProfile(profile);\n  if (response.data.resultCode === 0) {\n    dispatch(getUserProfile(userId));\n  } else {\n    let key = response.data.messages[0].match(/Contacts->(\\w+)/)[1].toLowerCase();\n    dispatch(stopSubmit('editProfile', {\n      contacts: { [key]: response.data.messages[0] },\n    }))\n    return Promise.reject(response.data.messages[0])\n  }\n  //4 show general error {_error: response.data.messages[0] }\n\n}\ntype AddNewPostActionCreatorType = {\n  type: typeof ADD_POST\n  newPostText: string\n}\n\nexport const addNewPostActionCreator = (newPostText: string): AddNewPostActionCreatorType => ({ type: ADD_POST, newPostText })\n\ntype SetUserProfileActionType =\n  {\n    type: typeof SET_USER_PROFILE\n    profile: ProfileType\n  }\n\nexport const setUserProfile = (profile: ProfileType): SetUserProfileActionType => ({ type: SET_USER_PROFILE, profile })\n\ntype SetStatusActionType = {\n  type: typeof SET_STATUS\n  status: string \n}\n\nexport const setStatus = (status: string): SetStatusActionType => ({ type: SET_STATUS, status })\n\ntype DeletePostActionType = {\n  type: typeof DELETE_POST\n  id: number\n}\n\nexport const deletePost = (id: number): DeletePostActionType => ({ type: DELETE_POST, id })\n\ntype SavePhotoSuccessActionType = {\n  type: typeof SAVE_PHOTO_SUCCESS\n  photos: PhotosType \n}\n\nexport const savePhotoSuccess = (photos: PhotosType): SavePhotoSuccessActionType => ({ type: SAVE_PHOTO_SUCCESS, photos })\n\nexport default profileReducer"],"sourceRoot":""}