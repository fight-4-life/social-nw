{"version":3,"sources":["assets/mrrobot.png","api/api.js","redux/dialogsReducer.js","assets/preloader.gif","assets/eye.png","components/Footer/Footer.module.css","components/Nav/Nav.module.css","components/Nav/Nav.jsx","components/Photos/Photos.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/usersReducer.js","components/Users/Pagination.jsx","components/Users/Users.jsx","redux/userSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderComponent.jsx","components/Login/Login.jsx","redux/appReducer.js","components/Footer/Footer.jsx","App.js","serviceWorker.js","redux/reduxStore.js","index.js","components/common/FormsControls/FormsControls.module.css","components/Users/Users.module.css","components/Users/Pagination.module.css","components/common/FormsControls/FormsControls.jsx","components/common/Preloader/Preloader.jsx","validators/validators.js","components/Header/Header.module.css","redux/profileReducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","sendMessageActionCreator","newMessageText","type","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","messageText","Nav","className","styles","nav","item","activeClassName","activeLink","to","Photos","Music","Settings","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","setCurrentPage","toggleIsFetching","toggleIsFollofing","usersReducer","map","u","followed","filter","Pagination","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","portionButton","onClick","p","cn","selectedPage","pageNumber","key","Users","props","userInList","userName","userPic","alt","src","photos","small","userPhoto","unfollowButton","disabled","some","followButton","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getFollow","getUnfollow","UsersContainer","this","Preloader","isAuth","React","Component","compose","connect","page","dispatch","items","totalCount","resultCode","followSucces","unfollowSucces","Header","header","logo","logoutButton","captchaUrl","setAuthUserData","payload","getAuthUserData","url","getCaptchaUrlSuccess","authReducer","HeaderComponent","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","loginButton","messaage","length","stopSubmit","_error","initialized","appReducer","Footer","footer","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","fallback","app","Boolean","window","location","hostname","match","require","createStore","combineReducers","applyMiddleware","store","profilePage","profileReducer","dialogsPage","formReducer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMiddleware","_store_","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","Textarea","input","meta","touched","hasError","formControl","preloader","value","maxLengthCreator","maxLength","ADD_POST","posts","likesCount","getUserProfile","a","setUserProfile","setStatus","alert","file","savePhotoSuccess","getState","toLowerCase","contacts","Promise","reject","addNewPostActionCreator","newPostText"],"mappings":"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","file":"static/js/main.1013fbc8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mrrobot.97f0a69e.png\";","import * as axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: { 'api-key': '8b8490ba-4ac0-44fd-a386-a1e6ec25d08c' }\n})\n\nexport const usersAPI = {\n    getUsers(currentPage, pageSize) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    },\n    follow(userId) {\n        return instance.post(`follow/${userId}`)\n    },\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`)\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/${userId}`)\n    },\n    getStatus(userId) {\n        return instance.get(`profile/status/${userId}`)\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status })\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData()\n        formData.append('image', photoFile)\n        return instance.put('profile/photo', formData)\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`, profile)\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    }\n}","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\n\nexport const sendMessageActionCreator = (newMessageText) => ({ type: ADD_MESSAGE, newMessageText })\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: 'Vavan' },\n    { id: 2, name: 'Iren' },\n    { id: 3, name: 'Bieven' },\n    { id: 4, name: 'Kama' },\n    { id: 5, name: 'Maga' },\n    { id: 6, name: 'Konek' }\n  ],\n  messages: [\n    { id: 1, message: 'Hello' },\n    { id: 2, message: 'Chiferni-ka bratok' },\n    { id: 3, message: 'Feel good' },\n    { id: 4, message: 'Ok alright' }\n  ]\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case ADD_MESSAGE:\n      let messageText = action.newMessageText\n      return {\n        ...state,\n        messages: [...state.messages, { id: 5, message: messageText }]\n      }\n    default:\n      return state\n  }\n}\n\nexport default dialogsReducer","module.exports = __webpack_public_path__ + \"static/media/preloader.7f8e1b53.gif\";","module.exports = __webpack_public_path__ + \"static/media/eye.16969707.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1w0lV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3gICw\",\"item\":\"Nav_item__96rLj\",\"activeLink\":\"Nav_activeLink__GsTVR\"};","import React from 'react';\nimport styles from './Nav.module.css';\nimport { NavLink } from 'react-router-dom';\n\nfunction Nav() {\n  return (\n    <nav className={styles.nav}>\n      <ul>\n        <li className={styles.item} >\n          <NavLink activeClassName={styles.activeLink} to='/profile'>Profile</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/dialogs'>Messages</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/users'>Users</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/photos'>Photos</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/music'>Music</NavLink>\n        </li>\n        <li className={styles.item}>\n          <NavLink activeClassName={styles.activeLink} to='/settings'>Settings</NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Nav;","import React from 'react';\n\nfunction Photos() {\n  return (\n    <div>\n      Photos\n    </div>\n  );\n}\n\nexport default Photos;\n","import React from 'react';\n\nfunction Music() {\n  return (\n    <div>\n      Music\n    </div>\n  );\n}\n\nexport default Music;\n","import React from 'react';\n\nfunction Settings() {\n  return (\n    <div>\n      Settings\n    </div>\n  );\n}\n\nexport default Settings;\n","import { usersAPI } from '../api/api.js'\n\nconst FOLLOW = 'users/FOLLOW';\nconst UNFOLLOW = 'users/UNFOLLOW';\nconst SET_USERS = 'users/SET_USERS';\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING';\n\nlet initialState = {\n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: state.users.map(u => {\n          if (u.id === action.userId) {\n            return { ...u, followed: true }\n          }\n          return u;\n        }\n        )\n      }\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: state.users.map(u => {\n          if (u.id === action.userId) {\n            return { ...u, followed: false }\n          }\n          return u;\n        }\n        )\n      }\n    case SET_USERS:\n      return { ...state, users: action.users }\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage }\n    case SET_TOTAL_USERS_COUNT:\n      return { ...state, totalUsersCount: action.totalUsersCount }\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching }\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter(id => id !== action.userId)\n      }\n    default:\n      return state\n  }\n}\n\nexport const followSucces = (userId) => ({ type: FOLLOW, userId })\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId })\nexport const setUsers = (users) => ({ type: SET_USERS, users })\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount })\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\nexport const toggleIsFollofing = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\n\nexport const requestUsers = (page, pageSize) => {\n  return (dispatch) => {\n    dispatch(toggleIsFetching(true))\n    dispatch(setCurrentPage(page))\n\n    usersAPI.getUsers(page, pageSize).then(data => {\n      dispatch(toggleIsFetching(false))\n      dispatch(setUsers(data.items))\n      dispatch(setTotalUsersCount(data.totalCount))\n    })\n  }\n}\n\nexport const follow = (userId) => {\n  return (dispatch) => {\n    dispatch(toggleIsFollofing(true, userId))\n    usersAPI.follow(userId).then(response => {\n      if (response.data.resultCode === 0) {\n        dispatch(followSucces(userId))\n      }\n      dispatch(toggleIsFollofing(false, userId))\n    })\n  }\n}\n\nexport const unfollow = (userId) => {\n  return (dispatch) => {\n    dispatch(toggleIsFollofing(true, userId))\n    usersAPI.unfollow(userId).then(response => {\n      if (response.data.resultCode === 0) {\n        dispatch(unfollowSucces(userId))\n      }\n      dispatch(toggleIsFollofing(false, userId))\n    })\n  }\n}\n\nexport default usersReducer","import React, { useState } from 'react';\nimport styles from './Pagination.module.css'\nimport cn from 'classnames'\n\nconst Pagination = ({ pageSize, totalItemsCount, currentPage, onPageChange, portionSize = 10 }) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * (portionSize + 1);\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return <div className={styles.paginator}>\n        {portionNumber > 1 &&\n            <button className={styles.portionButton} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\n\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map((p) => {\n                return <span className={cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber)}\n                    key={p}\n                    onClick={() => {\n                        onPageChange(p);\n                    }}>{p}</span>\n            })}\n        {portionCount > portionNumber &&\n            <button className={styles.portionButton} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\n\n\n    </div>\n}\n\nexport default Pagination;","import React from 'react';\nimport styles from './Users.module.css'\nimport userPhoto from '../../assets/mrrobot.png'\nimport { NavLink } from 'react-router-dom';\nimport Pagination from './Pagination';\n\nconst Users = ({ currentPage, onPageChange, totalUsersCount, pageSize, ...props }) => {\n\n    return (<div>\n        <Pagination\n            currentPage={currentPage}\n            onPageChange={onPageChange}\n            totalItemsCount={totalUsersCount}\n            pageSize={pageSize}\n        />\n        {props.users.map(u =>\n            <div className={styles.userInList} key={u.id}>\n                <span>\n                    <div className={styles.userName}>{u.name}</div>\n                    <span>\n                        <div>Country: </div>\n                        <div>City: </div>\n                        {/* <div>u.location.country</div>\n                        <div>u.location.city</div>  */}\n                    </span>\n                    <div >\n                        <NavLink to={`/profile/${u.id}`}>\n                            <img className={styles.userPic} alt={'small userpic'} src={u.photos.small != null ? u.photos.small : userPhoto} />\n                        </NavLink>\n                    </div>\n                    <div>\n                        {u.followed\n                            ? <button className={styles.unfollowButton} disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\n                                props.unfollow(u.id)\n                            }}>unfollow</button>\n\n                            : <button className={styles.followButton} disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\n                                props.follow(u.id)\n                            }}>follow <b>{u.name}</b></button>\n                        }\n                    </div>\n                </span>\n                <span>\n                    <span>\n                        <div>{u.status}</div>\n                    </span>\n                </span>\n            </div>)}\n    </div>\n    )\n\n}\n\nexport default Users;","import {createSelector} from 'reselect'\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector(getUsersSelector, \n    (users) => {\n   return users.filter(u => true)\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}\n\nexport const getFollow = (state) => {\n    return state.usersPage.follow\n}\n\nexport const getUnfollow = (state) => {\n    return state.usersPage.unfollow\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { follow, unfollow, requestUsers, setCurrentPage } from '../../redux/usersReducer';\nimport Users from './Users';\nimport Preloader from '../common/Preloader/Preloader'\n\nimport { compose } from 'redux';\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getFollow, getUnfollow } from '../../redux/userSelectors';\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        const { currentPage, pageSize } = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChange = (pageNumber) => {\n        const { pageSize } = this.props\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader /> : null}\n            <Users\n                currentPage={this.props.currentPage}\n                onPageChange={this.onPageChange}\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                followingInProgress={this.props.followingInProgress}\n                isAuth={this.props.isAuth}\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n        follow: getFollow(state),\n        unfollow: getUnfollow(state)\n\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, { getUsers: requestUsers, follow, unfollow, setCurrentPage })\n)(UsersContainer)\n\n// let mapDispatchToProps = (dispatch) => {\n\n//     return {\n//         follow: (userId) => {\n//             dispatch(followAC(userId));\n//         },\n//         unfollow: (userId) => {\n//             dispatch(unfollowAC(userId));\n//         },\n//         setUsers: (users) => {\n//             dispatch(setUsersAC(users));\n//         },\n//         setCurrentPage: (currentPage) => {\n//             dispatch(setCurrentPageAC(currentPage))\n//         },\n//         setTotalUsersCount: (totalCount) => {\n//             dispatch(setTotalUsersCountAC(totalCount))\n//         },\n//         toggleIsFetching: (isFetching) => {\n//             dispatch(toggleIsFetchingAC(isFetching))\n//         }\n//     }\n","import React from 'react';\nimport styles from './Header.module.css';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport logo from '../../assets/eye.png'\n\nfunction Header(props) {\n    return (\n        <header className={styles.header}>\n            <img src={logo} alt={'logo'} />\n            <div className={styles.login}>\n                {props.isAuth\n                    ? <div> {props.login} <button className={styles.logoutButton}\n                        onClick={props.logout}>Logout</button></div>\n                    : <NavLink to={'/login'}>\n                        L O G I N\n                        <Redirect to={'/login'} />\n                    </NavLink>}\n            </div>\n\n        </header>\n    );\n}\n\nexport default Header;","import { authAPI, securityAPI } from '../api/api'\nimport { stopSubmit } from 'redux-form';\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n  id: null,\n  login: null,\n  email: null,\n  isAuth: false,\n  captchaUrl: null // if null captcha is not required\n}\n\nconst authReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case SET_USER_DATA:\n    case GET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport const setAuthUserData = (id, login, email, isAuth) => ({\n  type: SET_USER_DATA, payload: { id, login, email, isAuth }\n})\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n  type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl }\n})\n\n\nexport const getAuthUserData = () => (dispatch) => {\n  return authAPI.me().then(response => {\n    const { id, login, email } = response.data.data\n    if (response.data.resultCode === 0) {\n      dispatch(setAuthUserData(id, login, email, true))\n    }\n  })\n}\n\nexport const login = (email, password, rememberMe, captcha) => (dispatch) => {\n  authAPI.login(email, password, rememberMe, captcha)\n    .then(response => {\n      if (response.data.resultCode === 0) {\n        // success get auth data\n        dispatch(getAuthUserData())\n      } else {\n        if (response.data.resultCode === 10) {\n          dispatch(getCaptchaUrl ())\n        }\n        let messaage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error!'\n        dispatch(stopSubmit('login', { _error: messaage }))\n      }\n    })\n}\n\nexport const logout = () => (dispatch) => {\n  authAPI.logout()\n    .then(response => {\n      if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n      }\n    })\n}\n\nexport const getCaptchaUrl = () => (dispatch) => {\n  securityAPI.getCaptchaUrl()\n    .then(response => {\n      const captchaUrl = response.data.url\n      dispatch(getCaptchaUrlSuccess(captchaUrl))\n\n    }\n    )\n}\n\nexport default authReducer","import React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { logout } from '../../redux/authReducer';\n\nclass HeaderComponent extends React.Component {\n    render() {\n        return (\n            <Header {...this.props} />\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n})\n\nexport default connect(mapStateToProps, { logout })(HeaderComponent);","import React from 'react';\nimport { Field, reduxForm } from 'redux-form'\nimport { Input } from '../common/FormsControls/FormsControls';\nimport { required } from '../../validators/validators';\nimport { connect } from 'react-redux';\nimport { login } from '../../redux/authReducer';\nimport { Redirect } from 'react-router-dom';\nimport styles from '../common/FormsControls/FormsControls.module.css'\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <Field placeholder={'Email'} name={'email'} component={Input} validate={[required]} />\n            </div>\n            <div>\n                <Field placeholder={'Password'} name={'password'} component={Input} validate={[required]} type={'password'} />\n            </div>\n            <div>\n            Remember me <Field type={'checkbox'} name={'rememberMe'} component={Input} /> \n            </div>\n            {captchaUrl && <img src={captchaUrl} alt={'captcha'} />}\n\n            {captchaUrl && <Field placeholder={'Enter the symbols from image'} name={'captcha'}\n                component={Input} validate={[required]} />}\n            {error && <div className={styles.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button className={styles.loginButton}>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    }\n\n    return <div>\n        <h1>Login page</h1>\n        <p>Please enter your login and password</p>\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl\n})\n\nexport default connect(mapStateToProps, { login })(Login)","import { getAuthUserData } from \"./authReducer\";\n\n\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS';\n\nlet initialState = {\n  initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\n\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData())\n  promise.then(() => {\n    dispatch(initializedSuccess())\n  })\n}\n\nexport default appReducer","import React from 'react';\nimport styles from './Footer.module.css';\n\nconst Footer = (props) => {\n    return (\n        <div className={styles.footer}>\n            :\\\n        </div>\n    );\n}\n\nexport default Footer;","import React, { Suspense } from 'react';\nimport './App.css';\nimport Nav from './components/Nav/Nav';\nimport Photos from './components/Photos/Photos';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderComponent from './components/Header/HeaderComponent';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/appReducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport Footer from './components/Footer/Footer';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  componentWillUnmount() {\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    // HashRouter used for gh pages. Please use BrouserRouter\n    return (\n      <HashRouter>\n        <div className='app-wrapper'>\n          <HeaderComponent />\n          <Nav />\n          <div className='app-wrapper-content'>\n            <Switch>\n              <Route exact path='/'\n                render={() => <Suspense fallback={<div>Загрузка...</div>}>\n                  <Redirect to={'/profile'} />\n                </Suspense>}\n              />\n              <Route\n                path='/dialogs'\n                render={() => <Suspense fallback={<div>Загрузка...</div>}>\n                  <DialogsContainer />\n                </Suspense>}\n              />\n              <Route path='/profile/:userId?'\n                render={() => <Suspense fallback={<div>Загрузка...</div>}>\n                  <ProfileContainer />\n                </Suspense>}\n              />\n              <Route path='/users'\n                render={() => <UsersContainer\n                />}\n              />\n              <Route path='/login'\n                render={() => <Login\n                />}\n              />\n              <Route path='/photos' component={Photos} />\n              <Route path='/music' component={Music} />\n              <Route path='/settings' component={Settings} />\n              <Route path='*'\n                render={() => <div>404 NOT FOUND</div>}\n              />\n            </Switch>\n          </div>\n          <Footer/>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, { initializeApp })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import profileReducer from './profileReducer';\nimport dialogsReducer from './dialogsReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport appReducer from './appReducer'\nimport { reducer as formReducer } from 'redux-form'\n\nimport thunkMiddleware from 'redux-thunk';\n\nconst { createStore, combineReducers, applyMiddleware, compose } = require(\"redux\");\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow._store_ = store\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/reduxStore';\nimport { Provider } from 'react-redux';\n\n\n  ReactDOM.render(\n\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\",\"saveButton\":\"FormsControls_saveButton__3VGCw\",\"loginButton\":\"FormsControls_loginButton__3wK0r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPic\":\"Users_userPic__1_BqH\",\"selectedPage\":\"Users_selectedPage__J63sh\",\"userInList\":\"Users_userInList__OVJXd\",\"userName\":\"Users_userName__1mt5V\",\"unfollowButton\":\"Users_unfollowButton__3QsTy\",\"followButton\":\"Users_followButton__2xwHU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__1TXwA\",\"pageNumber\":\"Pagination_pageNumber__1r7yr\",\"selectedPage\":\"Pagination_selectedPage__zdDHb\",\"portionButton\":\"Pagination_portionButton__12LKm\"};","import React from 'react'\nimport styles from './FormsControls.module.css'\n\nexport const Textarea = ({ input, meta: { touched, error }, ...props }) => {\n    const hasError = touched && error\n\n    return (\n        <div className={(hasError ? styles.formControl : '')}>\n            <textarea {...input} {...props} />\n            <div>\n                {hasError && <span>{error}</span>}\n            </div>\n        </div>\n    )\n}\n\nexport const Input = ({ input, meta: { touched, error }, ...props }) => {\n    const hasError = touched && error\n\n    return (\n        <div className={(hasError ? styles.formControl : '')}>\n            <input {...input} {...props} />\n            <div>\n                {hasError && <span>{error}</span>}\n            </div>\n        </div>\n    )\n}","import React from 'react'\nimport preloader from '../../../assets/preloader.gif';\n\nlet Preloader = () => {\n    return (\n        <img src={preloader} alt={'preloader'} />\n    )\n\n    \n}\n\nexport default Preloader","export const required = (value) => {\n    if (value) return undefined\n    return 'Required field'\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `max length is ${maxLength} symbols`\n    return undefined\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"login\":\"Header_login__3V3Qa\",\"logoutButton\":\"Header_logoutButton__21mWM\"};","import { profileAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\nconst DELETE_POST = 'profile/DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\n\n\nlet initialState = {\n  posts: [\n    { id: 1, post: 'Hey you there!', likesCount: '4 ' },\n    { id: 2, post: 'Bro.. nice 2 meet u', likesCount: '46 ' },\n    { id: 3, post: ':O:O:O:O', likesCount: '12 ' }\n  ],\n  profile: null,\n  status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [...state.posts, { id: 4, post: action.newPostText, likesCount: 0 }]\n      }\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      }\n    case SET_USER_PROFILE:\n      return {\n        ...state, profile: action.profile\n      }\n    case DELETE_POST:\n      return {\n        ...state, posts: state.posts.filter(p => p.id !== action.id)\n      }\n    case SAVE_PHOTO_SUCCESS:\n      return {\n        ...state, profile: { ...state.profile, photos: action.photos }\n      }\n    default:\n      return state\n  }\n}\n\nexport const getUserProfile = (userId) => {\n  return async (dispatch) => {\n    const response = await profileAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n  }\n}\n\nexport const getStatus = (userId) => {\n  return async (dispatch) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n  }\n}\n\nexport const updateStatus = (status) => {\n  return async (dispatch) => {\n    try {\n      const response = await profileAPI.updateStatus(status)\n      if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n      }\n    } catch (error) {\n      debugger\n      alert(error) //here will be error handler\n    }\n  }\n}\n\n  export const savePhoto = (file) => async (dispatch) => {\n    const response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n      dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n  }\n\n  export const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.id\n    let response = await profileAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n      dispatch(getUserProfile(userId));\n    } else {\n      let key = response.data.messages[0].match(/Contacts->(\\w+)/)[1].toLowerCase();\n      dispatch(stopSubmit('editProfile', {\n        contacts: { [key]: response.data.messages[0] },\n      }))\n      return Promise.reject(response.data.messages[0])\n    }\n    //4 show general error {_error: response.data.messages[0] }\n\n  }\n\n  export const addNewPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\n\n  export const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\n\n  export const setStatus = (status) => ({ type: SET_STATUS, status })\n\n  export const deletePost = (id) => ({ type: DELETE_POST, id })\n\n  export const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\n\n  export default profileReducer"],"sourceRoot":""}