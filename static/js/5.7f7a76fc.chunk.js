(this["webpackJsonpedu-app-1"]=this["webpackJsonpedu-app-1"]||[]).push([[5],{350:function(e,t,n){"use strict";n.r(t);var a=n(53),c=n(79),r=n(0),l=n.n(r),u=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){!function e(){var t=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");t.addEventListener("close",(function(){e()})),a(t)}()}),[]),l.a.createElement("div",null,l.a.createElement(s,{ws:n}),l.a.createElement(o,{ws:n}))},s=function(e){var t=e.ws,n=Object(r.useState)([]),u=Object(c.a)(n,2),s=u[0],o=u[1];return Object(r.useEffect)((function(){null===t||void 0===t||t.addEventListener("message",(function(e){var t=JSON.parse(e.data);o((function(e){return[].concat(Object(a.a)(e),Object(a.a)(t))}))}))}),[t]),l.a.createElement("div",{style:{height:350,overflowY:"auto"}},s.map((function(e,t){return l.a.createElement(i,{key:t,message:e})})))},i=function(e){var t=e.message;return l.a.createElement("div",null,l.a.createElement("img",{style:{width:40},src:t.photo}),l.a.createElement("b",null,t.userName),l.a.createElement("div",null,t.message),l.a.createElement("hr",null))},o=function(e){var t=e.ws,n=Object(r.useState)(""),a=Object(c.a)(n,2),u=a[0],s=a[1],i=Object(r.useState)("pending"),o=Object(c.a)(i,2),d=o[0],m=o[1];Object(r.useEffect)((function(){null===t||void 0===t||t.addEventListener("open",(function(){m("ready")}))}),[t]);return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("textarea",{onChange:function(e){return s(e.currentTarget.value)},value:u})),l.a.createElement("div",null,l.a.createElement("button",{disabled:null===t&&"ready"!==d,onClick:function(){u&&(null===t||void 0===t||t.send(u),s(""))}},"Send")))};t.default=function(){return l.a.createElement("div",null,l.a.createElement(u,null))}}}]);
//# sourceMappingURL=5.7f7a76fc.chunk.js.map